#include <QString>

#include "tst_processrepositorytests.h"
#include "../SharedKernel/Systems/Windows/windowsprocessrepository.h"

ProcessRepositoryTests::ProcessRepositoryTests()
{
}

void ProcessRepositoryTests::initTestCase()
{
#ifdef Q_OS_WIN
    this->repo_ = new systems::windows::WindowsProcessRepository();
#endif
}

void ProcessRepositoryTests::cleanupTestCase()
{
    delete this->repo_;
}

void ProcessRepositoryTests::testGetAllProcesses_atLeastOne()
{
    // Arrange

    // Act
    auto numberOfProcesses = this->repo_->getAllProcesses().size();

    // Assert
    QVERIFY2(numberOfProcesses > 0, "Couldn't properly retrieve the number of processes. (the OS has certainly at least one process!)");
}

