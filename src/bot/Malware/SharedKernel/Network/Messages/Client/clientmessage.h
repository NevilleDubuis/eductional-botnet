#ifndef CLIENTMESSAGE_H
#define CLIENTMESSAGE_H

#include <QJsonObject>
#include <QNetworkInterface>
#include <QString>

#include "clientopcode.h"

namespace network { namespace messages { namespace client
{
    class ClientMessage
    {
    private:
        /// Static field that stores the MAC address of the LAN for the sake of performance.
        static QString cachedLanMacAddress_;

        ClientOpcode opcode_;
        QString macAddress_;

        /// Gets the MAC address of the network card connected to the network.
        ///
        /// A computer can have many different network cards, such as some virtual ones
        /// for virtualization. This is an helper to get the one connected to the LAN.
        ///
        /// @return The MAC address of the computer for the network card connected to the LAN.
        QString getLanMacAddress();

    public:
        ClientMessage(ClientOpcode opcode);
        virtual QJsonObject toJson();
    };
}}}

#endif // CLIENTMESSAGE_H
