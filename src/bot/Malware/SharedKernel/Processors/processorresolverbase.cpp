#include "processorresolverbase.h"

using namespace network::messages::server;

namespace processors
{
    void ProcessorResolverBase::add(const QMetaObject& type, std::shared_ptr<MessageProcessorBase> processor)
    {
        resolutions_.insert(type.className(), processor);
    }

    std::shared_ptr<MessageProcessorBase> ProcessorResolverBase::resolve(std::shared_ptr<ServerMessage> message)
    {
        QString className = message.get()->metaObject()->className();
        std::shared_ptr<MessageProcessorBase> p = resolutions_.value(className);
        return p;
    }
}
