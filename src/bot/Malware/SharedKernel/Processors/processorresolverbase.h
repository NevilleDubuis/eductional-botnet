#ifndef PROCESSORRESOLVERBASE_H
#define PROCESSORRESOLVERBASE_H

#include <memory>

#include <QMap>
#include <QMetaObject>
#include <QString>

#include "../Network/Messages/Server/servermessage.h"
#include "messageprocessorbase.h"

namespace processors
{
    class ProcessorResolverBase
    {
    protected:
        QMap<QString, std::shared_ptr<MessageProcessorBase>> resolutions_;

    public:
        void add(const QMetaObject& type, std::shared_ptr<MessageProcessorBase> processor);
        std::shared_ptr<MessageProcessorBase> resolve(std::shared_ptr<network::messages::server::ServerMessage> message);
    };
}

#endif // PROCESSORRESOLVERBASE_H
