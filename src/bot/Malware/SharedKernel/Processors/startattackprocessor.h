#ifndef STARTATTACKPROCESSOR_H
#define STARTATTACKPROCESSOR_H

#include <functional>

#include "../Network/Messages/Server/startattackmessage.h"
#include "../Workers/attackworkerbase.h"
#include "messageprocessor.h"

namespace processors
{
    /**
     * @brief The class represents how the message AskInformationMessage is handled by the client.
     */
    class StartAttackProcessor : public MessageProcessor<network::messages::server::StartAttackMessage>
    {
        Q_OBJECT

    public:
        /**
         * @brief Processes the given \e message.
         * @param message The message to process.
         * @param serverAdapter A reference to the server adapter.
         */
        void process(std::shared_ptr<network::messages::server::StartAttackMessage> message, network::ServerAdapter &serverAdapter) override;

    private:
        /**
         * @brief Finds the method of attack based on the message.
         * @param methodOfAttack The name of the method of attack.
         * @return The return value is a functor that instantiates a child class of AttackWorkerBase.
         */
        std::function<workers::AttackWorkerBase*(QUrl)> findAttackMethod(QString methodOfAttack);
    };
}

#endif // STARTATTACKPROCESSOR_H
